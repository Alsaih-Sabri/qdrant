version: "3.7"

# docker run --rm -it --cap-add=SYS_PTRACE --name qdrant qdrant ./qdrant

services:
  qdrant:
    image: qdrant:latest
    command: ./qdrant
    environment:
      - RUST_LOG=info
      - QDRANT__LOG_LEVEL=info
      # - QDRANT__STORAGE__STORAGE_PATH=./data/storage
      # - QDRANT__STORAGE__SNAPSHOTS_PATH=./data/snapshots
      # - TOKIO_CONSOLE_BIND=0.0.0.0:6669
    ports:
      - 127.0.0.1:6333:6333
      - 127.0.0.1:6334:6334
      # - 6669:6669 # Tokio Console
      # - 8086:8086 # Tracy
    # volumes:
    #   - /qdrant-data:/qdrant/data
    #   - /qdrant-coreL:/qdrant/core
    cap_add:
      - SYS_PTRACE
